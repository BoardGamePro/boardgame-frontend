import { useRouter } from '@/i18n/navigation'
import { useSearchParams } from 'next/navigation'
import React from 'react'

export default function CatalogPageSwitcher({ pages }) {
  const searchParams = useSearchParams()
  const router = useRouter()
  const currentPage = searchParams.get('page') || 1

  const isFirstPage = currentPage == 1
  const isLastPage = currentPage == pages

  const goToPage = (page) => {
    const params = new URLSearchParams(searchParams.toString())
    params.set('page', page)
    router.push(`?${params.toString()}`)
  }

  return (
    pages > 1 && (
      <div className="col-span-full flex items-center justify-center gap-[10px]">
        <button
          className="transition-custom flex h-[40px] w-[40px] items-center justify-center hover:opacity-70 disabled:pointer-events-none disabled:opacity-50"
          disabled={isFirstPage}
          onClick={() => goToPage(1)}
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_3106_11980)">
              <path
                d="M7.99988 16C7.91214 16.0005 7.82517 15.9837 7.74394 15.9506C7.66272 15.9174 7.58884 15.8685 7.52654 15.8067L2.07988 10.36C1.76946 10.0504 1.52317 9.68257 1.35513 9.2776C1.18708 8.87263 1.10059 8.43849 1.10059 8.00004C1.10059 7.56159 1.18708 7.12745 1.35513 6.72248C1.52317 6.31752 1.76946 5.94968 2.07988 5.64004L7.52654 0.193376C7.65208 0.0678397 7.82234 -0.00268555 7.99988 -0.00268555C8.17741 -0.00268555 8.34768 0.0678397 8.47321 0.193376C8.59875 0.318911 8.66927 0.489174 8.66927 0.666709C8.66927 0.844243 8.59875 1.01451 8.47321 1.14004L3.02654 6.58671C2.65201 6.96171 2.44164 7.47004 2.44164 8.00004C2.44164 8.53004 2.65201 9.03837 3.02654 9.41338L8.47321 14.86C8.5357 14.922 8.58529 14.9958 8.61914 15.077C8.65298 15.1582 8.67041 15.2454 8.67041 15.3334C8.67041 15.4214 8.65298 15.5085 8.61914 15.5898C8.58529 15.671 8.5357 15.7447 8.47321 15.8067C8.41092 15.8685 8.33704 15.9174 8.25582 15.9506C8.17459 15.9837 8.08762 16.0005 7.99988 16Z"
                fill="#212121"
              />
              <path
                d="M14.6668 16C14.5791 16.0005 14.4921 15.9837 14.4109 15.9506C14.3297 15.9174 14.2558 15.8685 14.1935 15.8067L7.80683 9.41338C7.4323 9.03837 7.22192 8.53004 7.22192 8.00004C7.22192 7.47004 7.4323 6.96171 7.80683 6.58671L14.1935 0.193376C14.319 0.0678397 14.4893 -0.00268555 14.6668 -0.00268555C14.8444 -0.00268555 15.0146 0.0678397 15.1402 0.193376C15.2657 0.318911 15.3362 0.489174 15.3362 0.666709C15.3362 0.844243 15.2657 1.01451 15.1402 1.14004L8.74683 7.52671C8.68435 7.58868 8.63475 7.66242 8.6009 7.74366C8.56706 7.8249 8.54963 7.91203 8.54963 8.00004C8.54963 8.08805 8.56706 8.17519 8.6009 8.25643C8.63475 8.33767 8.68435 8.4114 8.74683 8.47338L15.1402 14.86C15.2026 14.922 15.2522 14.9958 15.2861 15.077C15.3199 15.1582 15.3374 15.2454 15.3374 15.3334C15.3374 15.4214 15.3199 15.5085 15.2861 15.5898C15.2522 15.671 15.2026 15.7447 15.1402 15.8067C15.0779 15.8685 15.004 15.9174 14.9228 15.9506C14.8415 15.9837 14.7546 16.0005 14.6668 16Z"
                fill="#212121"
              />
            </g>
            <defs>
              <clipPath id="clip0_3106_11980">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
        <button
          className="transition-custom flex h-[40px] w-[40px] items-center justify-center hover:opacity-70 disabled:pointer-events-none disabled:opacity-50"
          disabled={isFirstPage}
          onClick={() => goToPage(Number(currentPage) - 1)}
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_3106_11982)">
              <path
                d="M11.4467 16C11.3589 16.0005 11.2719 15.9837 11.1907 15.9505C11.1095 15.9174 11.0356 15.8685 10.9733 15.8067L5.52666 10.36C5.21623 10.0504 4.96995 9.68256 4.80191 9.27759C4.63386 8.87262 4.54736 8.43848 4.54736 8.00003C4.54736 7.56158 4.63386 7.12744 4.80191 6.72248C4.96995 6.31751 5.21623 5.94967 5.52666 5.64004L10.9733 0.193375C11.0355 0.131216 11.1093 0.0819092 11.1905 0.048269C11.2717 0.0146288 11.3587 -0.00268555 11.4467 -0.00268555C11.5346 -0.00268555 11.6216 0.0146288 11.7028 0.048269C11.784 0.0819092 11.8578 0.131216 11.92 0.193375C11.9821 0.255534 12.0315 0.329328 12.0651 0.410542C12.0987 0.491757 12.116 0.578802 12.116 0.666708C12.116 0.754614 12.0987 0.841659 12.0651 0.922874C12.0315 1.00409 11.9821 1.07788 11.92 1.14004L6.47332 6.5867C6.09879 6.9617 5.88842 7.47003 5.88842 8.00003C5.88842 8.53003 6.09879 9.03836 6.47332 9.41336L11.92 14.86C11.9825 14.922 12.0321 14.9957 12.0659 15.077C12.0998 15.1582 12.1172 15.2453 12.1172 15.3334C12.1172 15.4214 12.0998 15.5085 12.0659 15.5897C12.0321 15.671 11.9825 15.7447 11.92 15.8067C11.8577 15.8685 11.7838 15.9174 11.7026 15.9505C11.6214 15.9837 11.5344 16.0005 11.4467 16Z"
                fill="#212121"
              />
            </g>
            <defs>
              <clipPath id="clip0_3106_11982">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>

        <div className="flex gap-[10px]">
          {Array.from({ length: pages }).map((_, index) => (
            <button
              key={index}
              className={`transition-custom flex h-[40px] w-[40px] items-center justify-center border-b-2 hover:border-[#337effa8] ${currentPage == index + 1 ? 'border-(--color-accent)' : 'border-transparent'}`}
              disabled={currentPage == index + 1}
              onClick={() => goToPage(index + 1)}
            >
              {index + 1}
            </button>
          ))}
        </div>

        <button
          className="transition-custom flex h-[40px] w-[40px] items-center justify-center hover:opacity-70 disabled:pointer-events-none disabled:opacity-50"
          disabled={isLastPage}
          onClick={() => goToPage(Number(currentPage) + 1)}
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_3106_11998)">
              <path
                d="M4.66663 16C4.57889 16.0005 4.49191 15.9837 4.41069 15.9505C4.32946 15.9174 4.25559 15.8685 4.19329 15.8067C4.13081 15.7447 4.08121 15.671 4.04737 15.5897C4.01352 15.5085 3.99609 15.4214 3.99609 15.3334C3.99609 15.2453 4.01352 15.1582 4.04737 15.077C4.08121 14.9957 4.13081 14.922 4.19329 14.86L9.63996 9.41336C10.0145 9.03836 10.2249 8.53003 10.2249 8.00003C10.2249 7.47003 10.0145 6.9617 9.63996 6.5867L4.19329 1.14004C4.06776 1.01451 3.99723 0.844242 3.99723 0.666708C3.99723 0.489174 4.06776 0.318911 4.19329 0.193375C4.31883 0.0678396 4.48909 -0.00268555 4.66663 -0.00268555C4.84416 -0.00268555 5.01442 0.0678396 5.13996 0.193375L10.5866 5.64004C10.897 5.94967 11.1433 6.31751 11.3114 6.72248C11.4794 7.12744 11.5659 7.56158 11.5659 8.00003C11.5659 8.43848 11.4794 8.87262 11.3114 9.27759C11.1433 9.68256 10.897 10.0504 10.5866 10.36L5.13996 15.8067C5.07767 15.8685 5.00379 15.9174 4.92256 15.9505C4.84134 15.9837 4.75436 16.0005 4.66663 16Z"
                fill="#212121"
              />
            </g>
            <defs>
              <clipPath id="clip0_3106_11998">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
        <button
          className="transition-custom flex h-[40px] w-[40px] items-center justify-center hover:opacity-70 disabled:pointer-events-none disabled:opacity-50"
          disabled={isLastPage}
          onClick={() => goToPage(pages)}
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_3106_12000)">
              <path
                d="M7.8866 16C7.79886 16.0005 7.71188 15.9837 7.63066 15.9506C7.54943 15.9174 7.47556 15.8685 7.41326 15.8067C7.35078 15.7447 7.30118 15.671 7.26734 15.5898C7.23349 15.5085 7.21606 15.4214 7.21606 15.3334C7.21606 15.2454 7.23349 15.1582 7.26734 15.077C7.30118 14.9958 7.35078 14.922 7.41326 14.86L12.8599 9.41338C13.2345 9.03837 13.4448 8.53004 13.4448 8.00004C13.4448 7.47004 13.2345 6.96171 12.8599 6.58671L7.41326 1.14004C7.3511 1.07788 7.3018 1.00409 7.26816 0.922875C7.23452 0.84166 7.2172 0.754615 7.2172 0.666709C7.2172 0.489174 7.28773 0.318911 7.41326 0.193376C7.5388 0.0678397 7.70906 -0.00268555 7.8866 -0.00268555C8.06413 -0.00268555 8.23439 0.0678397 8.35993 0.193376L13.8066 5.64004C14.117 5.94968 14.3633 6.31752 14.5313 6.72248C14.6994 7.12745 14.7859 7.56159 14.7859 8.00004C14.7859 8.43849 14.6994 8.87263 14.5313 9.2776C14.3633 9.68257 14.117 10.0504 13.8066 10.36L8.35993 15.8067C8.29764 15.8685 8.22376 15.9174 8.14253 15.9506C8.06131 15.9837 7.97433 16.0005 7.8866 16Z"
                fill="#212121"
              />
              <path
                d="M1.21985 16C1.13211 16.0005 1.04514 15.9837 0.963911 15.9506C0.882686 15.9174 0.808809 15.8685 0.746515 15.8067C0.68403 15.7447 0.634433 15.671 0.600588 15.5898C0.566742 15.5085 0.549316 15.4214 0.549316 15.3334C0.549316 15.2454 0.566742 15.1582 0.600588 15.077C0.634433 14.9958 0.68403 14.922 0.746515 14.86L7.13985 8.47338C7.20233 8.4114 7.25193 8.33767 7.28578 8.25643C7.31962 8.17519 7.33705 8.08805 7.33705 8.00004C7.33705 7.91203 7.31962 7.8249 7.28578 7.74366C7.25193 7.66242 7.20233 7.58868 7.13985 7.52671L0.746515 1.14004C0.620979 1.01451 0.550454 0.844243 0.550454 0.666709C0.550454 0.489174 0.620979 0.318911 0.746515 0.193376C0.872051 0.0678397 1.04231 -0.00268555 1.21985 -0.00268555C1.39738 -0.00268555 1.56765 0.0678397 1.69318 0.193376L8.07985 6.58671C8.45438 6.96171 8.66476 7.47004 8.66476 8.00004C8.66476 8.53004 8.45438 9.03837 8.07985 9.41338L1.69318 15.8067C1.63089 15.8685 1.55701 15.9174 1.47579 15.9506C1.39456 15.9837 1.30759 16.0005 1.21985 16Z"
                fill="#212121"
              />
            </g>
            <defs>
              <clipPath id="clip0_3106_12000">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>
    )
  )
}
